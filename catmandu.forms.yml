_prefix:
  forms:

book:
  field_list:
    - id: publication_type
      name: publication_type
      label: "Publication Type"
      type: "Select"
      required: 1
      options:
        - label: Book
          value: book
        - label: Book Editor
          value: book_editor
        - label: Book Chapter
          value: book_chapter
        - label: Book Review
          value: review
    - id: doi
      name: doi
      label: "DOI"
      #custom field: see HTML::FormHandler::Field::Pattern
      type: "Pattern"
      regex: "^10.\\d{4,9}\\/[-._;()\\/:A-Za-z0-9]+$"
      required: 0
      element_attr:
        placeholder: "e.g. 10.4119/xyz/2695161"
      messages:
        invalid_pattern: "is not a valid DOI"

    #do_wrapper and do_label are set to 0 by default. lib/App.pm sets these to 1
    #lib/App.pm also sets do_label to 0 for all subfields
    - id: department
      name: department
      label: Department
      type: Repeatable
      add_extra: 1
      num_when_empty: 2

    - name: department.contains
      label: Department
      type: Text
      element_class: "department"
      element_attr:
        placeholder: "Start typing, or use (arrow down) to choose a department from the list."

    - id: title
      name: title
      label: "Title"
      type: Text
      required: 1
      element_attr:
        placeholder: "e.g. Handbook of eBook Publishing"

    - id: year
      name: year
      label: "Publishing Year"
      type: Integer
      range_start: 1900
      element_wrapper_class: "col-md-3"
      element_attr:
        placeholder: "e.g. 1900"

    - id: series
      name: series
      type: Compound
      required: 1

    - id: series.title
      name: series.title
      label: Series title
      type: Text
      wrapper_class: "col-md-6"
      element_attr:
        placeholder: "Series Title, e.g. Lecture Notes in Computer Science"

    - id: series.volume
      name: series.volume
      label: Series volume
      type: Text
      wrapper_class: "col-md-4"
      element_attr:
        placeholder: "Volume, e.g. 3"

    - id: publication_identifier
      name: publication_identifier
      type: Repeatable
      label: "Publication Identifier"

    - id: publication_identifier.type
      name: publication_identifier.type
      type: Select
      do_wrapper: 0
      #more than one form-control inside an input-group is not supported, so we need to reset the width
      element_class: "form-control-identifier-type"
      options:
        - label: eISBN
          value: eisbn
        - label: eISSN
          value: eissn
        - label: ISBN
          value: isbn
        - label: ISSN
          value: issn
    - id: publication_identifier.value
      name: publication_identifier.value
      type: Text
      do_wrapper: 0
      #more than one form-control inside an input-group is not supported, so we need to reset the width
      element_class: "form-control-identifier-value"
      element_attr:
        placeholder: "e.g. select (e)ISBN or (e)ISSN and enter it here"

    - id: editor
      name: editor
      type: Repeatable
      label: "Editor"
      required: 1

    - id: editor.first_name
      name: editor.first_name
      type: Text
      do_wrapper: 0
      element_attr:
        placeholder: "e.g. John"
      tags:
        input_prepend: "First name"

    - id: editor.last_name
      name: editor.last_name
      type: Text
      do_wrapper: 0
      element_attr:
        placeholder: "e.g. Appleseed"
      tags:
        input_prepend: "Last name"

    - id: status
      name: status
      type: Select
      default: submitted
      options:
        - label: Unpublished
          value: unpublished
        - label: Draft
          value: draft
        - label: Submitted
          value: submitted
        - label: Accepted
          value: accepted

    - id: status2
      name: status2
      type: Select
      default: submitted
      widget: RadioGroup
      options:
        - label: Unpublished
          value: unpublished
        - label: Draft
          value: draft
        - label: Submitted
          value: submitted
        - label: Accepted
          value: accepted

    - id: language
      name: language
      label: Language
      type: Select
      multiple: 1
      default:
        - dutch
      options:
        - label: Dutch
          value: dutch
        - label: English
          value: english
        - label: German
          value: german

    - id: jel
      name: jel
      type: Select
      label: "JEL Classification"
      multiple: true
      element_class: "jel"
      empty_select: "-- Select JEL --"
      options:
        - group: "A - General Economics and Teaching"
          options:
            - label: "A - General Economics and Teaching"
              value: "A"
        - group: "A1 - General Economics"
          options:
            - label: "A1 - General Economics"
              value: "A1"

    - id: uploads
      name: uploads
      label: "Files"
      type: DropZone
      min_size: 1000
      max_size: 1000000000
      url: "/upload"
      accept:
        - image/jpeg
        - image/tiff
        - text/plain
      element_attr:
        class: "alert alert-warning col-md-12"

    - id: accept
      name: accept
      label:  "accept terms"
      type: Checkbox
      checkbox_value: accepted
      input_without_param: "true"
      default: 0
      required: 1

    - id: submit
      name: submit
      type: Submit
      value: "save"
      element_wrapper_class: "col-md-offset-2"
      element_attr:
        class: "btn btn-success"
      tags:
        before_element_inside_div: |
          <div class="btn-group">

        after_element: |
          <a class="btn btn-warning" href="#">cancel</a>
          </div>
